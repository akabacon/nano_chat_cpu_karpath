---

##  NanoChat å¿«é€Ÿéƒ¨ç½²æ¸…å–® (Ubuntu 24.04)

### 1. ç’°å¢ƒåˆå§‹åŒ– (ç’°å¢ƒèˆ‡å·¥å…·)

æ­¤æ­¥é©Ÿå»ºç«‹éš”é›¢ç’°å¢ƒä¸¦å®‰è£ç·¨è­¯æ‰€éœ€çš„ Rust å·¥å…·ã€‚

```bash
# ä¸‹è¼‰å°ˆæ¡ˆ
git clone https://github.com/karpathy/nanochat.git && cd nanochat

sudo apt install python3-pip
# å»ºç«‹è™›æ“¬ç’°å¢ƒèˆ‡å‡ç´š
python3 -m venv venv && source venv/bin/activate
pip install -U pip

# å®‰è£ Rust (Tokenizer ç·¨è­¯å¿…å‚™)
curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh -s -- -y
source $HOME/.cargo/env

```

### 2. å®‰è£ä¾è³´é …

ä½¿ç”¨ `uv` æé«˜å®‰è£æ•ˆç‡ï¼Œæˆ–ç›´æ¥ä½¿ç”¨ `pip`ã€‚

```bash
# å®‰è£ uv ä¸¦åŒæ­¥ä¾è³´
curl -LsSf https://astral.sh/uv/install.sh | sh && source $HOME/.cargo/env
pip install uv
uv sync --extra gpu

# ç¢ºä¿æ‰€æœ‰åŸºç¤å¥—ä»¶åˆ°ä½
pip install -e .
pip install -r requirements.txt

```

### 3. è³‡æ–™è™•ç†èˆ‡æ¨¡å‹è¨“ç·´ 

åŸ·è¡Œ BPE åˆ†è©è¨“ç·´å¾Œï¼Œç«‹å³å•Ÿå‹•ä¸€å€‹æ¥µå°è¦æ¨¡çš„è¨“ç·´ä»»å‹™ä»¥é©—è­‰æµç¨‹ã€‚

```bash
# è¨“ç·´ Tokenizer
python -m scripts.tok_train --max_chars=100000

# æœ€å°åŒ–æ¨¡å‹è¨“ç·´ (ç´„ 2-5 åˆ†é˜)
python -m scripts.base_train \
  --depth=2 --max_seq_len=64 --n_head=2 \
  --device_batch_size=1 --total_batch_size=64 \
  --num_iterations=20 --sample_every=10

```

### 4. é©—è­‰èˆ‡ Web äº’å‹•

ç¢ºèªæ¨¡å‹æª”æ¡ˆå­˜åœ¨ï¼Œä¸¦å•Ÿå‹•ç¶²é ä»‹é¢ã€‚

```bash
# æª¢æŸ¥æ¬Šé‡æª”æ¡ˆ
ls ~/.cache/nanochat/base_checkpoints/d2/

# å•Ÿå‹• Web UI
python -m scripts.chat_web

```

* **ç€è¦½å™¨è¨ªå•**ï¼š`http://127.0.0.1:5000`

---

### ğŸ“‹ åŸ·è¡Œæª¢æŸ¥è¡¨

| éšæ®µ | é æœŸçµæœ |
| --- | --- |
| **ç’°å¢ƒ** | `which rustc` æœ‰å›å‚³è·¯å¾‘ |
| **Tokenizer** | ç”Ÿæˆ `~/.cache/nanochat/tokenizer/` æª”æ¡ˆ |
| **è¨“ç·´** | çµ‚ç«¯æ©Ÿå‡ºç¾ `loss` ä¸‹é™æ•¸å€¼èˆ‡æ–‡å­— Sample |
| **Web** | ç€è¦½å™¨èƒ½é–‹å•Ÿå°è©±æ¡†ï¼Œè¼¸å…¥å¾Œæœ‰å›å‚³ (å³ä¾¿äº‚ç¢¼) |

**éœ€è¦æˆ‘ç‚ºæ‚¨è§£é‡‹å…¶ä¸­ç‰¹å®šåƒæ•¸ï¼ˆå¦‚ `--n_head` æˆ– `--depth`ï¼‰çš„å…·é«”å«ç¾©å—ï¼Ÿ**
